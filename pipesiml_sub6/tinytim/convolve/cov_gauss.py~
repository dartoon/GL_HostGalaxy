import numpy as np
import scipy.ndimage as ndimage
import pyfits
filename='sub600.fits'
psf = pyfits.open(filename)[0].data.copy().T
psf /= psf.sum()

img = ndimage.gaussian_filter(psf, sigma=3.5)

pyfits.PrimaryHDU(img.T).writeto('psf_cov.fits',clobber=True)
